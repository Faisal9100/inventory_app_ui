<h1 class="fs-2">All Products</h1>

<div class="add-categories">
  <div class="input-group mb-3">
    <input
      type="text"
      class="form-control w-25"
      placeholder="Search Warehouses"
    />
    <button class="btn btn-primary">
      <i class="bi bi-search"></i>
    </button>
    <button
      type="button"
      class="btn btn-outline-primary mx-2"
      (click)="open(content)"
    >
      <i class="bi bi-plus-circle"></i> Add new
    </button>
  </div>
</div>

<!-- <ng-template #content let-c="close" let-d="dismiss">
  <div class="modal-header">
    <h4 class="modal-title" id="modal-basic-title">Add Products</h4>
    <button
      type="button"
      class="btn-close"
      aria-label="Close"
      (click)="d('Cross click')"
    ></button>
  </div>
  <div class="modal-body">
    <form [formGroup]="productForm">
      <div class="form-group">
        <label class="form-label">Name:</label>
        <input type="text" class="form-control" name="name" formControlName="name" required />
      </div>
      <div class="form-group">
        <label class="form-label">Quantity:</label>
        <input type="number" class="form-control" name="quantity" formControlName="quantity" required />
      </div><br>
      <div class="form-group">
        <label class="form-label">Image:</label>
        <input
          class="form-control-file"
          type="file"
          name="image"
          formControlName="image"
          (change)="onFileSelected($event)"
        />
      </div>
      <div class="form-group">
        <label class="form-label">Note:</label>
        <input type="text" class="form-control" name="note" formControlName="note" required />
      </div>
      <div class="form-group">
        <label class="form-label">Brand:</label>
        <select name="brand" class="form-control" formControlName="brand" required>
          <option *ngFor="let brand of brands" [value]="brand.id">{{ brand.id }}</option>
        </select>
      </div>
      <div class="form-group">
        <label class="form-label">Unit:</label>
        <select name="unit" class="form-control" formControlName="unit" required>
          <option *ngFor="let unit of units" [value]="unit.id">{{ unit.id }}</option>
        </select>
      </div>
      <div class="form-group">
        <label class="form-label">Category:</label>
        <select name="category" class="form-control" formControlName="category" required>
          <option *ngFor="let category of categories" [value]="category.id">{{ category.id }}</option>
        </select>
      </div>
    </form>
  </div>
  <div class="modal-footer">
    <button
      type="button"
      class="btn btn-outline-dark"
      (click)="addProduct()"
    >
      Add Product
    </button>
  </div>
</ng-template> -->

<ng-template #content let-c="close" let-d="dismiss">
  <div
    class="modal-header"
    style="background-color: var(--bs-primary-bg-subtle)"
  >
    <h4 class="modal-title text-white fs-3" id="modal-basic-title">
      Add Products
    </h4>
    <button
      type="button"
      class="btn-close text-white"
      aria-label="Close"
      (click)="d('Cross click')"
    ></button>
  </div>
  <div class="modal-body">
    <form [formGroup]="productForm">
      <div class="form-group row">
        <div class="col">
          <label class="form-label">Name:</label>
          <input
            type="text"
            placeholder="Enter Product Name"
            class="form-control"
            name="name"
            formControlName="name"
            required
          />
        </div>
        <div class="col">
          <label class="form-label">Quantity:</label>
          <input
            type="number"
            class="form-control"
            name="quantity"
            formControlName="quantity"
            required
          />
        </div>
      </div>
      <div class="form-group mt-3">
        <div class="col">
          <label class="form-label">Image:</label>
          <input
            class="form-control-file"
            type="file"
            name="image"
            formControlName="image"
            (change)="onFileSelected($event)"
          />
        </div>
      </div>
      <div class="form-group row mt-3">
        <div class="col">
          <label class="form-label">Brand:</label>
          <select
            name="brand"
            class="form-control"
            formControlName="brand"
            required
          >
            <option *ngFor="let brand of brands" [value]="brand.id">
              {{ brand.id }}
            </option>
          </select>
        </div>
        <div class="col">
          <label class="form-label">Unit:</label>
          <select
            name="unit"
            class="form-control"
            formControlName="unit"
            required
          >
            <option *ngFor="let unit of units" [value]="unit.id">
              {{ unit.id }}
            </option>
          </select>
        </div>
        <div class="col">
          <label class="form-label">Category:</label>
          <select
            name="category"
            class="form-control"
            formControlName="category"
            required
          >
            <option *ngFor="let category of categories" [value]="category.id">
              {{ category.id }}
            </option>
          </select>
        </div>
        <div class="form-group mt-2">
          <label class="form-label">Note:</label>
          <!-- <input type="text" class="form-control" name="note" formControlName="note" /> -->
          <textarea
            type="text"
            class="form-control"
            placeholder="Write something about the product"
            formControlName="note"
            name="note"
            id=""
            cols="30"
            rows="3"
          ></textarea>
        </div>
      </div>
    </form>
  </div>
  <div class="modal-footer">
    <button type="button" class="btn btn-outline-dark" (click)="addProduct()">
      Add Product
    </button>
  </div>
</ng-template>

<div class="top-sellling">
  <table class="table table-striped text-center table-bordered table-hover">
    <thead class="table-head">
      <tr>
        <th>Image</th>
        <th>Name</th>
        <th>Category</th>
        <th>Quantity</th>
        <th>Note</th>
        <th>Unit</th>
        <th>Brand</th>
        <th>Action</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let product of productData1">
        <td>
          <img width="50px" height="50px" src="{{ product.image }}" alt="" />
        </td>
        <td>{{ product.name }}</td>
        <td>{{ product.category }}</td>
        <td>{{ product.quantity }}</td>
        <td>{{ product.note }}</td>
        <td>{{ product.unit }}</td>
        <td>{{ product.brand }}</td>
        <td>
          <button class="btn btn-outline-primary mx-2">
            <i class="bi bi-pencil-square"></i>
          </button>
          <button class="btn btn-outline-danger" (click)="deleteProduct(id)">
            <i class="bi bi-trash3-fill"></i>
          </button>
        </td>
      </tr>
    </tbody>
  </table>
</div>
